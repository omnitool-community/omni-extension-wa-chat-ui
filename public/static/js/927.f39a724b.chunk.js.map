{"version":3,"file":"static/js/927.f39a724b.chunk.js","mappings":"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","sources":["pages/chat/chat-room-page/components/header/styles.tsx","pages/chat/chat-room-page/components/header/index.tsx","pages/chat/chat-room-page/components/footer/styles.tsx","pages/chat/chat-room-page/components/footer/index.tsx","pages/chat/chat-room-page/components/sidebar/styles.tsx","pages/chat/chat-room-page/components/sidebar/index.tsx","pages/chat/chat-room-page/components/profile/styles.tsx","pages/chat/chat-room-page/components/profile/index.tsx","pages/chat/chat-room-page/components/messages-list/styles.tsx","pages/chat/chat-room-page/components/messages-list/index.tsx","pages/chat/chat-room-page/components/messages-list/hooks/useScrollToBottom.tsx","pages/chat/chat-room-page/components/search-section/styles.tsx","pages/chat/chat-room-page/components/search-section/index.tsx","pages/chat/chat-room-page/styles.tsx","pages/chat/chat-room-page/index.tsx","pages/chat/chat-room-page/hooks/useChatRoom.tsx","pages/chat/chat-room-page/hooks/useNavigateToChat.tsx"],"sourcesContent":["import styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  /* should refactor to header  */\r\n  background: ${(props) => props.theme.common.primaryColor};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 60px;\r\n  padding: 10px;\r\n  min-height: 60px;\r\n  /* should refactor to header  */\r\n\r\n  z-index: 10;\r\n\r\n  .icon {\r\n    color: ${(props) => props.theme.common.headerIconColor};\r\n  }\r\n\r\n  .search-icon {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  /* should refactor to avatar */\r\n  border-radius: 50%;\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  /* should refactor to avatar */\r\n`;\r\n\r\nexport const ProfileWrapper = styled.div<{ onClick: any }>`\r\n  flex: 1;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const profileStyles = css`\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const Name = styled.h2`\r\n  color: ${(props) => props.theme.common.mainHeadingColor};\r\n  font-size: 1rem;\r\n  margin-bottom: 2px;\r\n\r\n  ${profileStyles}\r\n`;\r\n\r\nexport const Subtitle = styled.p`\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n  font-size: 0.75rem;\r\n\r\n  ${profileStyles}\r\n`;\r\n\r\nexport const Actions = styled.div`\r\n  margin-right: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .action-menus-wrapper {\r\n    z-index: 20;\r\n  }\r\n`;\r\n\r\nexport const actionStyles = css`\r\n  margin-left: 25px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const Action = styled.button<any>`\r\n  ${actionStyles}\r\n`;\r\n","import Icon from \"common/components/icons\";\r\nimport OptionsMenu from \"pages/chat/components/option-menu\";\r\nimport {\r\n  Action,\r\n  Actions,\r\n  actionStyles,\r\n  Avatar,\r\n  AvatarWrapper,\r\n  Container,\r\n  Name,\r\n  ProfileWrapper,\r\n  Subtitle,\r\n} from \"./styles\";\r\n\r\ntype HeaderProps = {\r\n  onSearchClick: Function;\r\n  onProfileClick: Function;\r\n  title: string;\r\n  image: string;\r\n  subTitle: string;\r\n};\r\n\r\nexport default function Header(props: HeaderProps) {\r\n  const { title, subTitle, image, onProfileClick, onSearchClick } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <AvatarWrapper>\r\n        <Avatar src={image} />\r\n      </AvatarWrapper>\r\n      <ProfileWrapper onClick={onProfileClick}>\r\n        <Name>{title}</Name>\r\n        {subTitle && <Subtitle>{subTitle}</Subtitle>}\r\n      </ProfileWrapper>\r\n      <Actions>\r\n        <Action onClick={onSearchClick}>\r\n          <Icon id=\"search\" className=\"icon search-icon\" />\r\n        </Action>\r\n        <OptionsMenu\r\n          styles={actionStyles}\r\n          ariaLabel=\"Menu\"\r\n          iconId=\"menu\"\r\n          iconClassName=\"icon\"\r\n          options={[\r\n            \"Contact Info\",\r\n            \"Select Messages\",\r\n            \"Mute notifications\",\r\n            \"Clear messages\",\r\n            \"Delete chat\",\r\n          ]}\r\n        />\r\n      </Actions>\r\n    </Container>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  /* should be refactor to one wrapper. using multiple places */\r\n  padding: 10px;\r\n  height: 60px;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  /* should be refactor to one wrapper. using multiple places */\r\n`;\r\n\r\nexport const iconCommonStyles = css`\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n`;\r\n\r\nexport const IconsWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const AttachButton = styled.button`\r\n  margin-left: 10px;\r\n\r\n  .icon {\r\n    ${iconCommonStyles}\r\n  }\r\n`;\r\n\r\nexport const ButtonsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  bottom: 50px;\r\n`;\r\n\r\nexport const Button = styled.button<{ readonly showIcon: boolean }>`\r\n  transform: ${(props) => (props.showIcon ? \"scale(1)\" : \"scale(0)\")};\r\n  opacity: ${(props) => (props.showIcon ? 1 : 0)};\r\n  transition: all 0.5s ease;\r\n  margin-bottom: 10px;\r\n\r\n  &:nth-of-type(1) {\r\n    transition-delay: 0.25s;\r\n  }\r\n\r\n  &:nth-of-type(2) {\r\n    transition-delay: 0.2s;\r\n  }\r\n\r\n  &:nth-of-type(3) {\r\n    transition-delay: 0.15s;\r\n  }\r\n\r\n  &:nth-of-type(4) {\r\n    transition-delay: 0.1s;\r\n  }\r\n\r\n  &:nth-of-type(5) {\r\n    transition-delay: 0.05s;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  /* background: white; */\r\n  /* color: rgb(74, 74, 74); */\r\n  background: ${(props) => props.theme.common.secondaryColor};\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n\r\n  padding: 20px 10px;\r\n  border-radius: 10px;\r\n  flex: 1;\r\n  height: 100%;\r\n  margin-left: 7px;\r\n\r\n  /* &::placeholder {\r\n  color: rgb(153, 153, 153);\r\n} */\r\n\r\n  &::placeholder {\r\n    /* color: rgb(74, 74, 74); */\r\n    color: ${(props) => props.theme.common.subHeadingColor};\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const SendMessageButton = styled.button`\r\n  .icon {\r\n    margin-left: 8px;\r\n    margin-right: 8px;\r\n    width: 28px;\r\n    height: 28px;\r\n    padding: 3px;\r\n    border-radius: 50%;\r\n    ${iconCommonStyles}\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\nimport Icon from \"common/components/icons\";\r\nimport {\r\n  AttachButton,\r\n  Button,\r\n  ButtonsContainer,\r\n  IconsWrapper,\r\n  Input,\r\n  SendMessageButton,\r\n  Wrapper,\r\n} from \"./styles\";\r\nimport { OmniSDKClientEvents} from 'omni-sdk';\r\nconst attachButtons = [\r\n  { icon: \"attachRooms\", label: \"Choose room\" },\r\n  { icon: \"attachContacts\", label: \"Choose contact\" },\r\n  { icon: \"attachDocument\", label: \"Choose document\" },\r\n  { icon: \"attachCamera\", label: \"Use camera\" },\r\n  { icon: \"attachImage\", label: \"Choose image\" },\r\n];\r\n\r\n\r\n\r\n\r\nexport default function Footer({ activeInbox }) {\r\n  const [showIcons, setShowIcons] = useState(false);\r\n  const [inputText, setInputText] = useState(\"\"); // State to hold the value of the input\r\n\r\n  // Handle text input change\r\n  const handleInputChange = (e) => {\r\n    setInputText(e.target.value);\r\n  };\r\n\r\n  // Handle send button click\r\n  const handleSend = async () => {\r\n\r\n    if (inputText.trim() !== \"\" && activeInbox) { // Ensure there's text to send and activeInbox is valid\r\n      try {\r\n        // TODO: Add to server side chatlog\r\n        //@ts-ignore\r\n        await window.omniSDK.startRecipe(activeInbox.id, {text: inputText}); // Assuming activeInbox.id is the required identifier\r\n\r\n        // TODO: This is hacktastic. We probably want a CHAT_MESSAGE_SENT event instead\r\n        globalThis.omniSDK.events.emit(OmniSDKClientEvents.CHAT_MESSAGE_RECEIVED, [\r\n          {\r\n            text: inputText,\r\n            isOpponent: false\r\n          }]\r\n        )\r\n\r\n        // TODO: Marshal response\r\n        setInputText(\"\"); // Clear input after sending\r\n      } catch (error) {\r\n        console.error(\"Failed to send message:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) { // This ensures Enter without Shift triggers the send\r\n      e.preventDefault(); // Prevent newline from being entered into the text area\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <IconsWrapper>\r\n        <AttachButton onClick={() => setShowIcons(!showIcons)}>\r\n          <Icon id=\"attach\" className=\"icon\" />\r\n        </AttachButton>\r\n        <ButtonsContainer>\r\n          {attachButtons.map((btn) => (\r\n            <Button showIcon={showIcons} key={btn.label}>\r\n              <Icon id={btn.icon} />\r\n            </Button>\r\n          ))}\r\n        </ButtonsContainer>\r\n      </IconsWrapper>\r\n      <Input\r\n        placeholder=\"Type a message here ..\"\r\n        value={inputText}\r\n        onChange={handleInputChange}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n      <SendMessageButton onClick={handleSend} disabled={inputText.trim() === \"\"}>\r\n        <Icon id=\"send\" className=\"icon\" />\r\n      </SendMessageButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.aside<{ readonly isOpen: boolean }>`\r\n  width: 0;\r\n  min-width: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: all 0.1s ease;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  ${(props) =>\r\n    props.isOpen &&\r\n    css`\r\n      flex: 20%;\r\n    `}\r\n\r\n  @media screen and (max-width: 1200px) {\r\n    transition: transform 0.1s ease;\r\n    transform: translateX(120vw);\r\n    position: absolute;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 10;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.header`\r\n  /* common header */\r\n  background: ${(props) => props.theme.common.primaryColor};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 60px;\r\n  padding: 10px;\r\n  min-height: 60px;\r\n  /* common header */\r\n`;\r\n\r\nexport const CloseButton = styled.button<{ onClick: any }>`\r\n  .icon {\r\n    color: ${(props) => props.theme.common.subHeadingColor};\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nexport const Heading = styled.h2`\r\n  flex: 1;\r\n  color: ${(props) => props.theme.common.mainHeadingColor};\r\n  font-size: 1rem;\r\n  margin-bottom: 2px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  flex: 1;\r\n`;\r\n","import Icon from \"common/components/icons\";\r\nimport { CloseButton, Heading, Content, Header, Container } from \"./styles\";\r\n\r\ntype SidebarProps = {\r\n  title: string;\r\n  isOpen?: boolean;\r\n  onClose?: Function;\r\n  children?: any;\r\n};\r\n\r\nexport default function Sidebar(props: SidebarProps) {\r\n  const { title, isOpen = false, onClose, children } = props;\r\n\r\n  return (\r\n    <Container isOpen={isOpen}>\r\n      <Header>\r\n        <CloseButton onClick={onClose}>\r\n          <Icon id=\"cancel\" className=\"icon\" />\r\n        </CloseButton>\r\n        <Heading> {title} </Heading>\r\n      </Header>\r\n      <Content> {children} </Content>\r\n    </Container>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  background: ${(props) => props.theme.common.primaryColor};\r\n  padding-bottom: 2pc;\r\n  height: 100%;\r\n`;\r\n\r\nexport const profileSectionStyles = css`\r\n  background: ${(props) => props.theme.common.secondaryColor};\r\n  margin-bottom: 10px;\r\n  box-shadow: ${(props) => props.theme.chatRoom.profileBoxShadow};\r\n  padding: 10px 20px;\r\n`;\r\n\r\nexport const PersonalInfo = styled.div`\r\n  ${profileSectionStyles}\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 30px 20px;\r\n`;\r\n\r\nexport const AvatarWrapper = styled.div`\r\n  width: 200px;\r\n  height: 200px;\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  /* common avatar should be refactor */\r\n  border-radius: 50%;\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  /* common avatar should be refactor */\r\n`;\r\n\r\nexport const ProfileName = styled.h2`\r\n  flex: 1;\r\n  color: ${(props) => props.theme.common.mainHeadingColor};\r\n  font-size: 1.2rem;\r\n  align-self: center;\r\n`;\r\n\r\nexport const Section = styled.div`\r\n  ${profileSectionStyles}\r\n`;\r\n\r\nexport const HeadingWrapper = styled.div`\r\n  margin-top: 5px;\r\n  margin-bottom: 10px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const Heading = styled.h2`\r\n  color: ${(props) => props.theme.chatRoom.profileHeadingColor};\r\n  font-size: 0.85rem;\r\n  flex: 1;\r\n`;\r\n\r\nexport const MediaButton = styled.button`\r\n  .icon {\r\n    color: ${(props) => props.theme.common.subHeadingColor};\r\n  }\r\n`;\r\n\r\nexport const MediaImagesWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const MediaImage = styled.img`\r\n  width: 32%;\r\n`;\r\n\r\nexport const AboutItem = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px 0;\r\n  margin-bottom: 5px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n\r\n  &:not(:last-of-type) {\r\n    border-bottom: 1px solid ${(props) => props.theme.common.primaryColor};\r\n  }\r\n`;\r\n\r\nexport const ActionSection = styled(Section)`\r\n  color: ${(props) => props.theme.chatRoom.profileActionColor};\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 20px;\r\n  padding-bottom: 20px;\r\n  cursor: pointer;\r\n\r\n  .icon {\r\n    margin-right: 20px;\r\n  }\r\n`;\r\n\r\nexport const ActionText = styled.p`\r\n  flex: 1;\r\n`;\r\n","import Icon from \"common/components/icons\";\r\nimport {\r\n  AboutItem,\r\n  ActionSection,\r\n  ActionText,\r\n  Avatar,\r\n  AvatarWrapper,\r\n  Heading,\r\n  HeadingWrapper,\r\n  MediaButton,\r\n  MediaImage,\r\n  MediaImagesWrapper,\r\n  PersonalInfo,\r\n  ProfileName,\r\n  Section,\r\n  Wrapper,\r\n} from \"./styles\";\r\n\r\ntype ProfileSectionProps = {\r\n  name: string;\r\n  image: string;\r\n};\r\n\r\nexport default function ProfileSection(props: ProfileSectionProps) {\r\n  const { name, image } = props;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <PersonalInfo>\r\n        <AvatarWrapper>\r\n          <Avatar src={image} alt=\"User Profile\" />\r\n        </AvatarWrapper>\r\n        <ProfileName>{name}</ProfileName>\r\n      </PersonalInfo>\r\n\r\n      <Section>\r\n        <HeadingWrapper>\r\n          <Heading>Media, Links and Documents</Heading>\r\n          <MediaButton>\r\n            <Icon id=\"rightArrow\" className=\"icon\" />\r\n          </MediaButton>\r\n        </HeadingWrapper>\r\n        <MediaImagesWrapper>\r\n          <MediaImage src=\"./assets/images/placeholder.jpeg\" alt=\"Media\" />\r\n          <MediaImage src=\"./assets/images/placeholder.jpeg\" alt=\"Media\" />\r\n          <MediaImage src=\"./assets/images/placeholder.jpeg\" alt=\"Media\" />\r\n        </MediaImagesWrapper>\r\n      </Section>\r\n\r\n      <Section>\r\n        <HeadingWrapper>\r\n          <Heading>About</Heading>\r\n        </HeadingWrapper>\r\n        <ul>\r\n          <AboutItem>\r\n            At your service!\r\n          </AboutItem>\r\n          <AboutItem>@nickname</AboutItem>\r\n        </ul>\r\n      </Section>\r\n\r\n      <ActionSection>\r\n        <Icon id=\"block\" className=\"icon\" />\r\n        <ActionText>Block</ActionText>\r\n      </ActionSection>\r\n      <ActionSection>\r\n        <Icon id=\"thumbsDown\" className=\"icon\" />\r\n        <ActionText>Report contact</ActionText>\r\n      </ActionSection>\r\n      <ActionSection>\r\n        <Icon id=\"delete\" className=\"icon\" />\r\n        <ActionText>Delete chat</ActionText>\r\n      </ActionSection>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  flex: 1;\r\n  position: relative;\r\n  /* background: #e4dcd4; */\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  padding: 20px 5% 2pc;\r\n\r\n  .icon {\r\n    color: ${(props) => props.theme.common.subHeadingColor};\r\n    margin-right: 5px;\r\n    margin-bottom: -1px;\r\n  }\r\n`;\r\n\r\nexport const wrapperStyles = css`\r\n  z-index: 9;\r\n`;\r\n\r\nexport const DateWrapper = styled.div`\r\n  text-align: center;\r\n  margin: 10px 0 14px;\r\n  position: relative;\r\n\r\n  ${wrapperStyles}\r\n`;\r\n\r\nexport const DateComponent = styled.span`\r\n  background: ${(props) => props.theme.badge.bgColor};\r\n  display: inline-block;\r\n  color: ${(props) => props.theme.badge.textColor};\r\n  font-size: 0.75rem;\r\n  padding: 7px 10px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport const EncryptionMessage = styled.p`\r\n  background: ${(props) => props.theme.encryptionMessage.bgColor};\r\n  color: ${(props) => props.theme.encryptionMessage.textColor};\r\n  font-size: 0.77rem;\r\n  text-align: center;\r\n  padding: 5px 10px;\r\n  position: relative;\r\n  margin-bottom: 8px;\r\n  border-radius: 5px;\r\n  line-height: 20px;\r\n\r\n  ${wrapperStyles}\r\n`;\r\n\r\nexport const MessageGroup = styled.div`\r\n  ${wrapperStyles}\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 12px;\r\n  position: relative;\r\n\r\n  .chat__msg--sent {\r\n    background: ${(props) => props.theme.sentMessage.bgColor};\r\n    align-self: flex-end;\r\n  }\r\n\r\n  .chat__msg--received {\r\n    background: ${(props) => props.theme.receivedMessage.bgColor};\r\n    align-self: flex-start;\r\n  }\r\n\r\n  & > *:nth-child(1):not(.chat__msg--sent)::before,\r\n  .chat__msg--sent + .chat__msg--received::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    top: 0;\r\n    left: -8px;\r\n    border-top: 6px solid ${(props) => props.theme.receivedMessage.bgColor};\r\n    border-right: 6px solid ${(props) => props.theme.receivedMessage.bgColor};\r\n    border-bottom: 6px solid transparent;\r\n    border-left: 6px solid transparent;\r\n  }\r\n\r\n  & > *:nth-child(1):not(.chat__msg--received)::before,\r\n  .chat__msg--received + .chat__msg--sent::before {\r\n    right: -8px;\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    top: 0;\r\n    border-top: 6px solid ${(props) => props.theme.sentMessage.bgColor};\r\n    border-right: 6px solid transparent;\r\n    border-bottom: 6px solid transparent;\r\n    border-left: 6px solid ${(props) => props.theme.sentMessage.bgColor};\r\n  }\r\n\r\n  .chat__msg-status-icon {\r\n    color: ${(props) => props.theme.common.subHeadingColor};\r\n    margin-left: 3px;\r\n  }\r\n\r\n  .chat__msg-status-icon--blue {\r\n    color: ${(props) => props.theme.common.readIconColor};\r\n  }\r\n`;\r\n\r\nexport const ChatMessage = styled.div`\r\n  padding: 6px 7px 8px 9px;\r\n  margin-bottom: 12px;\r\n  font-size: 0.85rem;\r\n  color: ${(props) => props.theme.common.mainHeadingColor};\r\n  width: fit-content;\r\n  max-width: 95%;\r\n  line-height: 20px;\r\n  border-radius: 5px;\r\n  position: relative;\r\n  white-space: pre-line;\r\n  display: flex;\r\n\r\n  @media screen and (min-width: 1301px) {\r\n    max-width: 65%;\r\n  }\r\n\r\n  @media screen and (min-width: 1000px) and (max-width: 1300px) {\r\n    max-width: 75%;\r\n  }\r\n\r\n  @media screen and (min-width: 900px) and (max-width: 1000px) {\r\n    max-width: 85%;\r\n  }\r\n`;\r\n\r\nexport const ChatMessageFiller = styled.span`\r\n  width: 65px;\r\n  display: inline-block;\r\n  height: 3px;\r\n  background: transparent;\r\n`;\r\n\r\nexport const ChatMessageFooter = styled.span`\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  right: 7px;\r\n  bottom: 3px;\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n`;\r\n","import { forwardRef, useEffect, useState } from \"react\"; // import useState and useEffect\r\nimport { useParams } from \"react-router-dom\";\r\nimport { OmniSDKClientEvents} from 'omni-sdk';\r\nimport Icon from \"common/components/icons\";\r\nimport useScrollToBottom from \"./hooks/useScrollToBottom\";\r\nimport { Message } from \"./data/get-messages\";  // We no longer need getMessages\r\nimport {\r\n  ChatMessage,\r\n  ChatMessageFiller,\r\n  ChatMessageFooter,\r\n  Container,\r\n  DateComponent,\r\n  DateWrapper,\r\n  EncryptionMessage,\r\n  MessageGroup,\r\n} from \"./styles\";\r\n\r\n\r\ntype MessagesListProps = {\r\n  onShowBottomIcon: Function;\r\n  shouldScrollToBottom?: boolean;\r\n};\r\n\r\nexport default function MessagesList(props: MessagesListProps) {\r\n  const { onShowBottomIcon, shouldScrollToBottom } = props;\r\n\r\n  const params = useParams();\r\n  const [messages, setMessages] = useState([]); // Initialize state\r\n\r\n  useEffect(() => {\r\n\r\n    // Subscribe to the global chat event handler\r\n    const handleMessage = (message:any) => {\r\n\r\n      // Ensure the incoming message belongs to the current chat\r\n      if (message.workflowId === params.id || !message.workflowId) {\r\n        // Append the new message to the current list\r\n\r\n        const convertedMessage = message.map((m:any) => {\r\n        {\r\n          const msg = {\r\n            id: Date.now(),\r\n            date: (new Date()).toLocaleDateString(),\r\n            time:  (new Date()).toLocaleTimeString(),\r\n            messageStatus: \"READ\",\r\n            isOpponent: m.isOpponent ?? true,\r\n            body: m.text\r\n          }\r\n\r\n          // Temporary solution, need to create a proper gallery component\r\n          if (m.images?.length > 0)\r\n          {\r\n            msg.body += `<div class=\"images\">`\r\n            m.images.forEach((i:any) => {\r\n              msg.body +=`<a style=\"cursor: pointer; margin-right:2px;\" onclick=\"window.omniSDK.signalIntent('show',undefined,{fid: '${i.fid}', mimeType: '${i.mimeType}'})\"><img src=\"/fid/${i.fid}?width=128&height=128\" /></a>`\r\n            })\r\n            msg.body += `</div>`\r\n\r\n          }\r\n\r\n          return msg\r\n        }\r\n        })\r\n\r\n        setMessages((prevMessages) => {\r\n          return prevMessages.concat(convertedMessage);\r\n        });\r\n      }\r\n    };\r\n\r\n    // Fetch messages using the new function\r\n    const fetchMessages = async () => {\r\n\r\n        console.log(\"subscribing...\")\r\n        globalThis.omniSDK.events.on(OmniSDKClientEvents.CHAT_MESSAGE_RECEIVED, handleMessage);\r\n\r\n        const  chat = globalThis.omniSDK.args.chat\r\n        const result:{messages:Message[]} = {messages:[]}\r\n        if (chat)\r\n        {\r\n            result.messages = [{\r\n              id: Date.now().toString(),\r\n              body: chat.description || `Welcome to ${chat.name}`,\r\n              date: new Date().toLocaleDateString(),\r\n              timestamp: new Date().toLocaleTimeString(),\r\n              messageStatus: \"DELIVERED\",\r\n              isOpponent: true,\r\n            } ] ;\r\n            //@ts-ignore\r\n             setMessages(result.messages);\r\n        }\r\n        else\r\n        {\r\n          try {\r\n          //@ts-ignore\r\n            let result = await globalThis.omniSDK.runExtensionScript(\"chat\", {chatId: params.id});\r\n\r\n            setMessages(result.messages);\r\n          } catch (error) {\r\n            console.error(\"Failed to fetch messages:\", error);\r\n          }\r\n        }\r\n    };\r\n    //@ts-ignore\r\n\r\n\r\n    fetchMessages();\r\n\r\n    return () => {\r\n      //@ts-ignore\r\n      globalThis.omniSDK.events.off(OmniSDKClientEvents.CHAT_MESSAGE_RECEIVED, handleMessage);\r\n    };\r\n\r\n\r\n    // eslint-disable-next-line\r\n  }, [params.id]);\r\n\r\n  const { containerRef, lastMessageRef } = useScrollToBottom(\r\n    onShowBottomIcon,\r\n    shouldScrollToBottom,\r\n    params.id\r\n  );\r\n\r\n  return (\r\n    <Container ref={containerRef}>\r\n      <EncryptionMessage>\r\n        <Icon id=\"lock\" className=\"icon\" />\r\n        Conversations with your assistants are stored within omnitool. Recipes that interact with third party APIs will transmit data to those APIs.\r\n      </EncryptionMessage>\r\n      <DateWrapper>\r\n        <DateComponent> TODAY </DateComponent>\r\n      </DateWrapper>\r\n      <MessageGroup>\r\n        {messages.map((message:Message, i) => {\r\n          if (i === messages.length - 1) {\r\n            return <SingleMessage key={message.id} message={message} ref={lastMessageRef} />;\r\n          } else {\r\n            return <SingleMessage key={message.id} message={message} />;\r\n          }\r\n        })}\r\n      </MessageGroup>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst SingleMessage = forwardRef((props: { message: Message }, ref: any) => {\r\n  const { message } = props;\r\n\r\n  return (\r\n    <ChatMessage\r\n      key={message.id}\r\n      className={message.isOpponent ? \"chat__msg--received\" : \"chat__msg--sent\"}\r\n      ref={ref}\r\n    >\r\n     <span dangerouslySetInnerHTML={{ __html: message.body }}></span>\r\n\r\n      <ChatMessageFiller />\r\n      <ChatMessageFooter>\r\n        <span>{message.timestamp}</span>\r\n        {!message.isOpponent && (\r\n          <Icon\r\n            id={`${message.messageStatus === \"SENT\" ? \"singleTick\" : \"doubleTick\"}`}\r\n            className={`chat__msg-status-icon ${\r\n              message.messageStatus === \"READ\" ? \"chat__msg-status-icon--blue\" : \"\"\r\n            }`}\r\n          />\r\n        )}\r\n      </ChatMessageFooter>\r\n    </ChatMessage>\r\n  );\r\n});\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport default function useScrollToBottom(\r\n  callback: Function,\r\n  shouldScrollToBottom?: boolean,\r\n  chatId?: string\r\n) {\r\n  const containerRef = useRef(null);\r\n  const lastMessageRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (lastMessageRef && lastMessageRef.current) {\r\n      const ref = lastMessageRef.current as any;\r\n\r\n      if (shouldScrollToBottom) ref.scrollIntoView({ behavior: \"smooth\" });\r\n      else ref.scrollIntoView({ behavior: \"auto\" });\r\n    }\r\n  }, [lastMessageRef, chatId, shouldScrollToBottom]);\r\n\r\n  useEffect(() => {\r\n    const ref = containerRef.current as any;\r\n    ref.addEventListener(\"scroll\", _toggleScrollBottomIcon);\r\n\r\n    return () => ref.removeEventListener(\"scroll\", _toggleScrollBottomIcon);\r\n    // eslint-disable-next-line\r\n  }, [containerRef, callback]);\r\n\r\n  const _toggleScrollBottomIcon = () => {\r\n    const { scrollTop, scrollHeight, clientHeight } = containerRef.current as any;\r\n    const isScrolledBottom = scrollHeight - scrollTop - 150 > clientHeight;\r\n\r\n    if (isScrolledBottom) callback(true);\r\n    else callback(false);\r\n  };\r\n\r\n  return { containerRef, lastMessageRef };\r\n}\r\n","import styled from \"styled-components\";\r\nimport SearchField from \"pages/chat/components/search-field\";\r\n\r\nexport const Search = styled(SearchField)`\r\n  /* common styles for bottom border */\r\n  border-bottom: 1px solid ${(props) => props.theme.common.borderColor};\r\n  /* common styles for bottom border */\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  background: ${(props) => props.theme.common.secondaryColor};\r\n  height: 100%;\r\n  padding-top: 5pc;\r\n  color: ${(props) => props.theme.common.mainHeadingColor};\r\n  text-align: center;\r\n  font-size: 0.85rem;\r\n`;\r\n","import React from \"react\";\r\nimport { Content, Search } from \"./styles\";\r\n\r\nexport default function SearchSection() {\r\n  return (\r\n    <React.Fragment>\r\n      <Search placeholder=\"Search messages ...\" />\r\n      <Content />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  min-width: 300px;\r\n  flex: 40%;\r\n  border-right: 1px solid ${(props) => props.theme.common.borderColor};\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  z-index: 1;\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  opacity: 0.05;\r\n  z-index: 1;\r\n  background: url(\"./assets/images/bg-chat-room.png\") ${(props) => props.theme.chatRoom.bg};\r\n`;\r\n\r\nexport const FooterContainer = styled.div`\r\n  background: ${(props) => props.theme.common.primaryColor};\r\n  position: relative;\r\n  z-index: 100;\r\n`;\r\n\r\nexport const ScrollButton = styled.button`\r\n  position: absolute;\r\n  right: 15px;\r\n  bottom: 80px;\r\n  width: 42px;\r\n  height: 42px;\r\n  z-index: -1;\r\n  border-radius: 50%;\r\n  color: ${(props) => props.theme.common.subHeadingColor};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: ${(props) => props.theme.common.secondaryColor};\r\n  box-shadow: ${(props) => props.theme.chatRoom.scrollBtnBoxShadow};\r\n  z-index: 10;\r\n`;\r\n","import ChatLayout from \"../layouts\";\r\nimport Header from \"./components/header\";\r\nimport Footer from \"./components/footer\";\r\nimport Sidebar from \"./components/sidebar\";\r\nimport Icon from \"common/components/icons\";\r\nimport useChatRoom from \"./hooks/useChatRoom\";\r\nimport ProfileSection from \"./components/profile\";\r\nimport MessagesList from \"./components/messages-list\";\r\nimport SearchSection from \"./components/search-section\";\r\nimport useNavigateToChat from \"./hooks/useNavigateToChat\";\r\nimport { Container, Body, Background, FooterContainer, ScrollButton } from \"./styles\";\r\n\r\nexport default function ChatRoomPage() {\r\n  const {\r\n    activeInbox,\r\n    handleMenuOpen,\r\n    handleShowIcon,\r\n    isProfileOpen,\r\n    isSearchOpen,\r\n    isShowIcon,\r\n    setIsProfileOpen,\r\n    setIsSearchOpen,\r\n    setShouldScrollToBottom,\r\n    shouldScrollToBottom,\r\n  } = useChatRoom();\r\n  useNavigateToChat(activeInbox);\r\n\r\n  return (\r\n    <ChatLayout>\r\n      <Container>\r\n        <Body>\r\n          <Background />\r\n          <Header\r\n            title={activeInbox?.name ?? \"\"}\r\n            image={activeInbox?.image ?? \"\"}\r\n            subTitle={activeInbox?.isOnline ? \"Online\" : \"\"}\r\n            onSearchClick={() => handleMenuOpen(\"search\")}\r\n            onProfileClick={() => handleMenuOpen(\"profile\")}\r\n          />\r\n          <MessagesList\r\n            onShowBottomIcon={handleShowIcon}\r\n            shouldScrollToBottom={shouldScrollToBottom}\r\n          />\r\n          <FooterContainer>\r\n            {isShowIcon && (\r\n              <ScrollButton onClick={() => setShouldScrollToBottom(true)}>\r\n                <Icon id=\"downArrow\" />\r\n              </ScrollButton>\r\n            )}\r\n            <Footer activeInbox={activeInbox} />\r\n          </FooterContainer>\r\n        </Body>\r\n        <Sidebar title=\"Search\" isOpen={isSearchOpen} onClose={() => setIsSearchOpen(false)}>\r\n          <SearchSection />\r\n        </Sidebar>\r\n        <Sidebar\r\n          title=\"Contact Info\"\r\n          isOpen={isProfileOpen}\r\n          onClose={() => setIsProfileOpen(false)}\r\n        >\r\n          <ProfileSection name={activeInbox?.name ?? \"\"} image={activeInbox?.image ?? \"\"} />\r\n        </Sidebar>\r\n      </Container>\r\n    </ChatLayout>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useChatContext } from \"pages/chat/context/chat\";\r\n\r\nexport default function useChatRoom() {\r\n  const chatCtx = useChatContext();\r\n  const [isShowIcon, setIsShowIcon] = useState(false);\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\r\n  const [shouldScrollToBottom, setShouldScrollToBottom] = useState(false);\r\n\r\n  const handleMenuOpen = (menu: \"search\" | \"profile\") => {\r\n    setIsSearchOpen(menu === \"search\" ? true : false);\r\n    setIsProfileOpen(menu === \"profile\" ? true : false);\r\n  };\r\n\r\n  const handleShowIcon = (state: boolean) => {\r\n    setIsShowIcon(state);\r\n\r\n    if (state === false) setShouldScrollToBottom(false);\r\n  };\r\n\r\n  return {\r\n    activeInbox: chatCtx.activeChat,\r\n    handleMenuOpen,\r\n    handleShowIcon,\r\n    isProfileOpen,\r\n    isSearchOpen,\r\n    isShowIcon,\r\n    setIsProfileOpen,\r\n    setIsSearchOpen,\r\n    setShouldScrollToBottom,\r\n    shouldScrollToBottom,\r\n  };\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n/**\r\n * If no chat inbox selected, need to navigate to chat page,\r\n * maybe user reload the page\r\n */\r\nexport default function useNavigateToChat(activeInbox?: any) {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!activeInbox) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [activeInbox, navigate]);\r\n}\r\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","props","theme","common","primaryColor","headerIconColor","AvatarWrapper","_templateObject2","Avatar","img","_templateObject3","ProfileWrapper","_templateObject4","profileStyles","css","_templateObject5","Name","h2","_templateObject6","mainHeadingColor","Subtitle","p","_templateObject7","subHeadingColor","Actions","_templateObject8","actionStyles","_templateObject9","Action","button","_templateObject10","Header","title","subTitle","image","onProfileClick","onSearchClick","_jsxs","children","_jsx","src","onClick","Icon","id","className","OptionsMenu","styles","ariaLabel","iconId","iconClassName","options","Wrapper","iconCommonStyles","IconsWrapper","AttachButton","ButtonsContainer","Button","showIcon","Input","input","secondaryColor","SendMessageButton","attachButtons","icon","label","Footer","_ref","activeInbox","_useState","useState","_useState2","_slicedToArray","showIcons","setShowIcons","_useState3","_useState4","inputText","setInputText","handleSend","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","trim","window","omniSDK","startRecipe","text","globalThis","events","emit","OmniSDKClientEvents","CHAT_MESSAGE_RECEIVED","isOpponent","t0","console","error","stop","apply","arguments","map","btn","placeholder","value","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","disabled","aside","isOpen","header","CloseButton","Heading","Content","Sidebar","_props$isOpen","onClose","profileSectionStyles","chatRoom","profileBoxShadow","PersonalInfo","ProfileName","Section","HeadingWrapper","profileHeadingColor","MediaButton","MediaImagesWrapper","_templateObject11","MediaImage","_templateObject12","AboutItem","li","_templateObject13","ActionSection","_templateObject14","profileActionColor","ActionText","_templateObject15","ProfileSection","name","alt","wrapperStyles","DateWrapper","DateComponent","span","badge","bgColor","textColor","EncryptionMessage","encryptionMessage","MessageGroup","sentMessage","receivedMessage","readIconColor","ChatMessage","ChatMessageFiller","ChatMessageFooter","MessagesList","onShowBottomIcon","shouldScrollToBottom","params","useParams","messages","setMessages","useEffect","handleMessage","message","workflowId","convertedMessage","m","_m$isOpponent","_m$images","msg","Date","now","date","toLocaleDateString","time","toLocaleTimeString","messageStatus","body","images","length","forEach","i","concat","fid","mimeType","prevMessages","fetchMessages","chat","result","_result","log","on","args","toString","description","timestamp","runExtensionScript","chatId","sent","off","_useScrollToBottom","callback","containerRef","useRef","lastMessageRef","current","ref","scrollIntoView","behavior","addEventListener","_toggleScrollBottomIcon","removeEventListener","scrollTop","scrollHeight","clientHeight","useScrollToBottom","SingleMessage","forwardRef","dangerouslySetInnerHTML","__html","Search","SearchField","borderColor","SearchSection","React","Body","Background","bg","FooterContainer","ScrollButton","scrollBtnBoxShadow","ChatRoomPage","_activeInbox$name","_activeInbox$image","_activeInbox$name2","_activeInbox$image2","_useChatRoom","chatCtx","useChatContext","isShowIcon","setIsShowIcon","isSearchOpen","setIsSearchOpen","_useState5","_useState6","isProfileOpen","setIsProfileOpen","_useState7","_useState8","setShouldScrollToBottom","activeChat","handleMenuOpen","menu","handleShowIcon","state","useChatRoom","navigate","useNavigate","useNavigateToChat","ChatLayout","isOnline"],"sourceRoot":""}